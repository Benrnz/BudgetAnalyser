<Window x:Class="BudgetAnalyser.ShellWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:budgetAnalyser="clr-namespace:BudgetAnalyser"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shellDialog="clr-namespace:BudgetAnalyser.ShellDialog"
        Background="{StaticResource Brush.MainBackground}"
        Height="350"
        Icon="UI\Assets\PieChart.png"
        Loaded="OnLoaded"
        MinHeight="600"
        MinWidth="800"
        SnapsToDevicePixels="True"
        Title="{Binding WindowTitle}"
        Width="1250">

    <DockPanel>
        <Grid DockPanel.Dock="Top">
            <budgetAnalyser:MainMenuUserControl DataContext="{Binding MainMenuController}" />
        </Grid>
        <Grid>
            <Grid Visibility="{Binding StatementController.Shown, Converter={StaticResource Converter.BoolToVis}}">
                <ContentPresenter Content="{Binding StatementController}"
                                  DataContext="{Binding StatementController}" />
            </Grid>
            <Grid Visibility="{Binding BudgetController.Shown, Converter={StaticResource Converter.BoolToVis}}">
                <ContentPresenter Content="{Binding BudgetController}"
                                  VerticalAlignment="Stretch" />
            </Grid>
            <Grid Visibility="{Binding LedgerBookController.Shown, Converter={StaticResource Converter.BoolToVis}}">
                <ContentPresenter Content="{Binding LedgerBookController}"
                                  VerticalAlignment="Stretch" />
            </Grid>
            <Grid Visibility="{Binding DashboardController.Shown, Converter={StaticResource Converter.BoolToVis}}">
                <ContentPresenter Content="{Binding DashboardController}"
                                  VerticalAlignment="Stretch" />
            </Grid>
            <Grid Visibility="{Binding ReportsCatalogController.Shown, Converter={StaticResource Converter.BoolToVis}}">
                <ContentPresenter Content="{Binding ReportsCatalogController}"
                                  VerticalAlignment="Stretch" />
            </Grid>
            <Grid Visibility="{Binding RulesController.Shown, Converter={StaticResource Converter.BoolToVis}}">
                <ContentPresenter Content="{Binding RulesController}"
                                  VerticalAlignment="Stretch" />
            </Grid>

            <!-- Shell Pop Up Dialog -->
            <Grid Background="#cc000000"
                  KeyUp="OnShellDialogKeyUp"
                  Visibility="{Binding DialogContent, Converter={StaticResource Converter.NullToVis}}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Border Background="{StaticResource Brush.DialogBackground}"
                        Grid.Row="1">
                    <Border.Effect>
                        <DropShadowEffect />
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Style="{StaticResource TextBlock.Heading1}" Text="{Binding DialogTitle}"/>
                        <ContentPresenter Content="{Binding DialogContent}"
                                          Margin="10" />
                        <StackPanel HorizontalAlignment="Right"
                                    Margin="10"
                                    Orientation="Horizontal">
                            <Button Command="{Binding DialogCommand}"
                                    ToolTip="{Binding DialogActionToolTip}"
                                    Style="{StaticResource Button.Round.Save}"
                                    Visibility="{Binding SaveButtonVisible, Converter={StaticResource Converter.BoolToVis}}">
                                <Button.CommandParameter>
                                    <shellDialog:ShellDialogButton>Save</shellDialog:ShellDialogButton>
                                </Button.CommandParameter>
                            </Button>
                            <Button Command="{Binding DialogCommand}"
                                    IsDefault="False"
                                    IsCancel="{Binding DialogOkIsCancel}"
                                    ToolTip="{Binding DialogActionToolTip}"
                                    Style="{StaticResource Button.Round.Ok}"
                                    Visibility="{Binding OkButtonVisible, Converter={StaticResource Converter.BoolToVis}}">
                                <Button.CommandParameter>
                                    <shellDialog:ShellDialogButton>Ok</shellDialog:ShellDialogButton>
                                </Button.CommandParameter>
                            </Button>
                            <Button Command="{Binding DialogCommand}"
                                    Style="{StaticResource Button.Round.Cross}"
                                    ToolTip="{Binding DialogCloseToolTip}"
                                    Visibility="{Binding CancelButtonVisible, Converter={StaticResource Converter.BoolToVis}}">
                                <Button.CommandParameter>
                                    <shellDialog:ShellDialogButton>Cancel</shellDialog:ShellDialogButton>
                                </Button.CommandParameter>
                            </Button>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>
    </DockPanel>

</Window>
