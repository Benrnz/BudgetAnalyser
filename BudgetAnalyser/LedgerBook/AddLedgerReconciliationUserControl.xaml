<UserControl x:Class="BudgetAnalyser.LedgerBook.AddLedgerReconciliationUserControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             IsVisibleChanged="OnIsVisibleChanged">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <StackPanel Margin="2,2,2,20"
                    Orientation="Horizontal">
            <Button Command="{Binding CancelCommand}"
                    HorizontalAlignment="Left"
                    Style="{StaticResource Button.Round.Cross}" />
            <TextBlock Style="{StaticResource TextBlock.Heading1}"
                       Text="New Reconciliation" />
        </StackPanel>
        <StackPanel Grid.Row="1"
                    Orientation="Horizontal">
            <TextBlock Text="Date:" />
            <DatePicker x:Name="ReconDate"
                        CalendarStyle="{StaticResource CalendarStyle}"
                        DisplayDate="{Binding Date, StringFormat=d}"
                        SelectedDate="{Binding Date}"
                        VerticalAlignment="Center" />
            <TextBlock Margin="20,2,2,2"
                       Text="Bank Balance:" />
            <TextBox GotFocus="OnUIElementGotFocus"
                     Text="{Binding BankBalance, StringFormat=N}" />
            <Button Command="{Binding OkCommand}"
                    HorizontalAlignment="Left"
                    Margin="20,2,2,2"
                    Style="{StaticResource Button.Round.Ok}" />
        </StackPanel>
        <TextBlock Grid.Row="2"
                   Margin="10,30,10,10"
                   Style="{StaticResource TextBlock.Paragraph}"
                   TextWrapping="Wrap">
            <Run>
                Use this feature to add a new reconciliation to the ledger book. This will add a new line to the LedgerBook grid.
                The date field is used to date the ledger book line and also to find transactions to include.
                Transactions will be found by searching one month prior to the given date, excluding the given date.
                The idea is to use your pay day as the date, and perform adding a reconciliation once per month.
                The bank balance is the balance as at the date given, after you pay has gone in.
            </Run>
        </TextBlock>
    </Grid>

</UserControl>